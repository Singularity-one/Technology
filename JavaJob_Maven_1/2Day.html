<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <title></title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="../assets/css/main.css" />
  <script type="text/javascript">
  </script>

    <style type="text/css">
    p {
        color:black;
    }
    </style>
</head>
<body class="is-preload">

   <!-- Wrapper -->
   <div id="wrapper">

        <!-- Main -->
            <div id="main">
                <div class="inner">
                        <header id="header">
                        </header>

                        <!-- Content -->
						<section>

                            <header class="main">
                                <h1>第2天</h1>
                                <h1>Maven 生命週期</h1>
                            </header>

                            <span class="image main"><img src="images/pic11.jpg" alt="" /></span>

                            <hr class="major" />

                            <h2>Maven 生命週期</h2>
                            <p>Maven 有三套獨立的生命週期</p>
                            <h3>Clean lifecycle</h3>
                            <h3>Default lifecycle</h3>
                            <h3>Site  lifecycle</h3>

                            <h3>可以用設計模式中模板方法來想像</h3>
                            <div>
                                <pre style="color:#d1d1d1;background:#000000;"><span style="color:#e66170; font-weight:bold; ">public</span> <span style="color:#e66170; font-weight:bold; ">abstract</span> <span style="color:#e66170; font-weight:bold; ">class</span> Clean <span style="color:#b060b0; ">{</span>
	
                                    <span style="color:#e66170; font-weight:bold; ">public</span> <span style="color:#bb7977; ">void</span> doclean<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span> <span style="color:#b060b0; ">{</span>
                                        pre_clean<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>
                                        clean<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>
                                        post_clean<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>
                                
                                    <span style="color:#b060b0; ">}</span>
                                    
                                    <span style="color:#e66170; font-weight:bold; ">protected</span> <span style="color:#e66170; font-weight:bold; ">abstract</span> <span style="color:#bb7977; ">void</span> pre_clean<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>
                                    <span style="color:#e66170; font-weight:bold; ">protected</span> <span style="color:#e66170; font-weight:bold; ">abstract</span> <span style="color:#bb7977; ">void</span> clean<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>
                                    <span style="color:#e66170; font-weight:bold; ">protected</span> <span style="color:#e66170; font-weight:bold; ">abstract</span> <span style="color:#bb7977; ">void</span> post_clean<span style="color:#d2cd86; ">(</span><span style="color:#d2cd86; ">)</span><span style="color:#b060b0; ">;</span>
                                    
                                <span style="color:#b060b0; ">}</span>
                                </pre>                                                             
                            </div>

                            <hr class="major" />
                            <h2>Maven 生命週期 內步驟</h2>
                            <div class="table-wrapper">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Clean lifecycle 中 phases階段</th>
                                            <th>功能說明</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>pre-clean</td>
                                            <td>在執行 clean 前執行所需要流程</td>
                                        </tr>
                                        <tr>
                                            <td>clean</td>
                                            <td>編譯原始碼</td>
                                        </tr>
                                        <tr>
                                            <td>post-clean</td>
                                            <td>在執行 clean 後執行所需要流程</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <hr class="major" />

                            <div class="table-wrapper">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Default lifecycle 中 phases階段</th>
                                            <th>功能說明</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>validate</td>
                                            <td>驗證專案的資訊是否正確</td>
                                        </tr>
                                        <tr>
                                            <td>initialize</td>
                                            <td>初始化</td>
                                        </tr>
                                        <tr>
                                            <td>generate-sources</td>
                                            <td>生成代碼</td>
                                        </tr>
                                        <tr>
                                            <td>process-sources</td>
                                            <td>過濾代碼，是對src/main/resources目錄內的內容進行變量替換，複製到主classpath目錄中</td>
                                        </tr>
                                        <tr>
                                            <td>generate-resources</td>
                                            <td>生成資料文件</td>
                                        </tr>
                                        <tr>
                                            <td>process-resources</td>
                                            <td>過濾資料文件</td>
                                        </tr>
                                        <tr>
                                            <td>compile</td>
                                            <td>編譯原始碼，是對src/main/java目錄內的Java，複製到主classpath目錄中</td>
                                        </tr>
                                        <tr>
                                            <td>process-classes</td>
                                            <td>處理 class</td>
                                        </tr>
                                        <tr>
                                            <td>generate-test-sources</td>
                                            <td>生成 測試 代碼</td>
                                        </tr>
                                        <tr>
                                            <td>process-test-sources</td>
                                            <td>過濾 測試 代碼，是對src/test/resources目錄內的內容進行變量替換，複製到主classpath目錄中</td>
                                        </tr>
                                        <tr>
                                            <td>generate-test-resources</td>
                                            <td>生成 測試 代碼文件</td>
                                        </tr>
                                        <tr>
                                            <td>process-test-resources</td>
                                            <td>複製 測試 代碼至目標目錄</td>
                                        </tr>
                                        <tr>
                                            <td>test-compile</td>
                                            <td>編譯 測試 代碼，是對src/test/java目錄內的Java，複製到主classpath目錄中</td>
                                        </tr>
                                        <tr>
                                            <td>process-test-classes</td>
                                            <td>處理 測試 代碼文件</td>
                                        </tr>
                                        <tr>
                                            <td>test</td>
                                            <td>對編譯的原始碼單元測試，使用單元測試框架，並不會打包和部屬</td>
                                        </tr>
                                        <tr>
                                            <td>prepare-package</td>
                                            <td>準備打包</td>
                                        </tr>
                                        <tr>
                                            <td>package</td>
                                            <td>將編譯的程式碼打包成指定格式</td>
                                        </tr>
                                        <tr>
                                            <td>pre-integration-test</td>
                                            <td>集成測試前</td>
                                        </tr>
                                        <tr>
                                            <td>integration-test</td>
                                            <td>集成測試</td>
                                        </tr>
                                        <tr>
                                            <td>post-integration-test</td>
                                            <td>集成測試後</td>
                                        </tr>
                                        <tr>
                                            <td>verify</td>
                                            <td>進行整合測試</td>
                                        </tr>
                                        <tr>
                                            <td>install</td>
                                            <td>將打包好的檔案存入本地，意指包裝到Maven本地倉庫，供本地其他Maven項目使用</td>
                                        </tr>
                                        <tr>
                                            <td>deploy</td>
                                            <td>將打包好的檔案上傳至遠端</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <hr class="major" />

                            <div class="table-wrapper">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Site  lifecycle 中 phases階段</th>
                                            <th>功能說明</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>pre-site</td>
                                            <td>在執行 site 前執行所需要流程</td>
                                        </tr>
                                        <tr>
                                            <td>site</td>
                                            <td>生成專案文件站</td>
                                        </tr>
                                        <tr>
                                            <td>post-site</td>
                                            <td>在執行 site 後執行所需要流程</td>
                                        </tr>
                                        <tr>
                                            <td>site-deploy</td>
                                            <td>將生成的專案文件站 部屬到指定伺服器</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <hr class="major" />

                            <h3>命令和生命週期</h3>
                            <h4>mvn clean</h4>
                            <p>該命令調用Clean lifecycle，執行Clean lifecycle中pre-clean 到 clean階段</p>

                            <h4>mvn test</h4>
                            <p>該命令調用Default lifecycle，執行Default lifecycle中validate 到 test階段</p>

                            <h4>mvn clean install</h4>
                            <p>該命令調用Clean lifecycle和Default lifecycle，執行Clean lifecycle中pre-clean 到 clean階段，和執行Default lifecycle中validate 到 install階段</p>

                            <h4>mvn clean depoly site-deploy</h4>
                            <p>該命令調用Clean lifecycle，執行Clean lifecycle中pre-clean 到 clean階段</p>
                            <p>該命令調用Default lifecycle，執行Default lifecycle中validate 到 depoly階段</p>
                            <p>該命令調用Site lifecycle，執行Site lifecycle中pre-site 到 site-deploy階段</p>
                        </section>
                </div>
            </div>

            <!-- Sidebar -->
			<div id="sidebar">
				<div class="inner">

					<!-- Search -->
						<section id="search" class="alt">
						</section>

					<!-- Menu -->
						<nav id="menu">
							<header class="major">
								<h2>Menu</h2>
							</header>
							<ul>
								<li><a href="../index.html">Homepage</a></li>
								<li>
									<span class="opener">Maven</span>
									<ul>
                                      <li><a href="2Day.html">第2天 Maven 生命週期</a></li>
                                      <li><a href="3Day.html">第3天 Maven 常用指令</a></li>
									</ul>
								</li>
								<li><a href="../index.html">Homepage</a></li>
							</ul>
						</nav>
				</div>
			</div>
   </div>


    <!-- Scripts -->
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/browser.min.js"></script>
    <script src="../assets/js/breakpoints.min.js"></script>
    <script src="../assets/js/util.js"></script>
    <script src="../assets/js/main.js"></script>
</body>
</html>